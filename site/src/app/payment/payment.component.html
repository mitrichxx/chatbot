<form [formGroup]="paymentForm" validate (ngSubmit)="onSubmit()" *ngIf="!isSubmited">
  <div class="payment-header">
    <div class="payment-header-logo">
      <svg fill="none" height="34" viewBox="0 0 212 34" width="212" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><linearGradient id="a" gradientUnits="userSpaceOnUse" x1="5.7733" x2="1.48237" y1="28.5299" y2="16.1261"><stop offset=".1444" stop-color="#f2e913"/><stop offset=".3037" stop-color="#e7e518"/><stop offset=".5823" stop-color="#cadb26"/><stop offset=".891" stop-color="#a3cd39"/></linearGradient><linearGradient id="b" gradientUnits="userSpaceOnUse" x1="6.10042" x2="17.1527" y1="5.67484" y2="1.46284"><stop offset=".0592" stop-color="#0fa8e0"/><stop offset=".5385" stop-color="#0099f9"/><stop offset=".9234" stop-color="#0291eb"/></linearGradient><linearGradient id="c" gradientUnits="userSpaceOnUse" x1="15.8917" x2="28.39" y1="31.6311" y2="28.8062"><stop offset=".1226" stop-color="#a3cd39"/><stop offset=".2846" stop-color="#86c339"/><stop offset=".8693" stop-color="#21a038"/></linearGradient><linearGradient id="d" gradientUnits="userSpaceOnUse" x1="16.1784" x2="26.8642" y1="1.31658" y2="4.61376"><stop offset=".0566" stop-color="#0291eb"/><stop offset=".79" stop-color="#0c8acb"/></linearGradient><linearGradient id="e" gradientUnits="userSpaceOnUse" x1="5.37938" x2="17.0109" y1="27.9279" y2="32.2741"><stop offset=".1324" stop-color="#f2e913"/><stop offset=".2977" stop-color="#ebe716"/><stop offset=".5306" stop-color="#d9e01f"/><stop offset=".8023" stop-color="#bbd62d"/><stop offset=".9829" stop-color="#a3cd39"/></linearGradient><linearGradient id="f" gradientUnits="userSpaceOnUse" x1="1.46193" x2="6.13059" y1="17.4764" y2="5.33094"><stop offset=".0698" stop-color="#a3cd39"/><stop offset=".2599" stop-color="#81c55f"/><stop offset=".9216" stop-color="#0fa8e0"/></linearGradient><g fill="#21a038"><path d="m137.615 14.8941h-5.113v-4.3625h11.024v-3.26219h-15.253v19.53189h8.8c4.937 0 7.767-2.2361 7.767-6.136 0-3.716-2.551-5.7712-7.225-5.7712zm-.732 8.6687h-4.381v-5.4153h4.396c2.669 0 3.92.8897 3.92 2.7076 0 1.818-1.334 2.7077-3.935 2.7077z"/><path d="m196.522 26.7763h-4.274v-19.53482h4.274v8.19112h2.328l6.278-8.20299h4.846l-7.453 9.30329 8.651 10.2434h-5.67l-6.359-7.684h-2.621z"/><path d="m161.302 22.9565h-8.971l-1.524 3.7664h-4.514l8.42-19.38354h4.513l8.272 19.38354h-4.671zm-1.411-3.5172-3.046-7.5328-3.076 7.5328z"/><path d="m174.808 7.33936v8.09334h8.778v-8.09334h4.375v19.38354h-4.375v-7.6425h-8.778v7.6425h-4.374v-19.38354z"/><path d="m95.7153 10.4884 4.4227-3.25732h-14.804v19.57382h14.804v-3.2574h-10.5778v-5.0138h9.0201v-3.2573h-9.0201v-4.788z"/><path d="m74.1607 14.8603h-5.1386v-4.3718h8.2058l4.4224-3.26926h-16.8515v19.57376h8.818c4.9485 0 7.7838-2.2409 7.7838-6.1491 0-3.724-2.5708-5.7836-7.2399-5.7836zm-.7341 8.6873h-4.4045v-5.427h4.4045c2.6749 0 3.9291.8916 3.9291 2.7135s-1.3226 2.7135-3.9291 2.7135z"/><path d="m112.126 7.23108h-8.058v19.57382h4.238v-5.5429h3.834c5.145 0 8.34-2.7045 8.34-7.0259 0-4.32128-3.21-7.00502-8.354-7.00502zm-.09 10.77062h-3.73v-7.5133h3.745c2.708 0 4.197 1.3345 4.197 3.7567s-1.504 3.7566-4.212 3.7566z"/><path d="m57.5466 22.5667c-1.1191.6073-2.3735.9221-3.6467.9153-3.8072 0-6.5712-2.7194-6.5712-6.4641 0-3.7448 2.764-6.4642 6.5712-6.4642 1.375-.0246 2.7218.3921 3.8428 1.1888l3.0285-2.23494-.1991-.17535c-1.7684-1.55437-4.1341-2.37762-6.8357-2.37762-2.9304 0-5.5904.98969-7.4895 2.78479-1.9417 1.86792-3.0185 4.45972-2.972 7.15372-.0408 2.7192 1.0243 5.3385 2.9512 7.2576 1.911 1.8665 4.565 2.8948 7.4746 2.8948 3.0464 0 5.7034-1.061 7.5074-2.9928l-2.7343-2.0151z"/><path d="m30.4541 6.60718c.8033 1.03726 1.4896 2.17015 2.0375 3.37954l-15.4909 11.41548-6.4714-4.0568v-4.8803l6.4714 4.0568z"/></g><path d="m3.92647 17.0001c0-.2193.00562-.4365.01687-.6536l-3.9219636-.1957c-.0135007.2812-.0213764.5647-.0213764.8493 0 4.6947 1.90248 8.945 4.97952 12.0208l2.78115-2.781c-2.36825-2.3671-3.8342-5.6352-3.8342-9.2398z" fill="url(#a)"/><path d="m16.9998 3.92742c.2194 0 .4365.00788.6537.018l.1957-3.9240445c-.2813-.01350014-.5648-.0213755-.8494-.0213755-4.6949 0-8.94537 1.90239-12.02128 4.9793l2.78115 2.78104c2.36713-2.36703 5.63653-3.83292 9.24013-3.83292z" fill="url(#b)"/><path d="m16.9998 30.0737c-.2194 0-.4365-.0057-.6536-.0169l-.1958 3.9218c.2813.0135.5648.0214.8494.0214 4.6949 0 8.9454-1.9024 12.0213-4.9793l-2.7812-2.7811c-2.3671 2.367-5.6354 3.8341-9.2401 3.8341z" fill="url(#c)"/><path d="m24.3703 6.20895 3.3065-2.43678c-2.9184-2.35803-6.6322-3.77217-10.6768-3.77217v3.92742c2.7328 0 5.2709.84263 7.3703 2.28153z" fill="url(#d)"/><path d="m33.9999 17.0001c0-1.0395-.0933-2.0576-.2722-3.0454l-3.6598 2.6967c.0033.1158.0045.2317.0045.3487 0 3.8386-1.6629 7.2957-4.3068 9.6898l2.6383 2.916c3.4371-3.1095 5.596-7.6051 5.596-12.6058z" fill="#21a038"/><path d="m17.0008 30.0736c-3.8387 0-7.29598-1.6627-9.69011-4.3065l-2.91616 2.6381c3.1108 3.4358 7.60657 5.5947 12.60627 5.5947z" fill="url(#e)"/><path d="m8.23321 7.31032-2.63827-2.91603c-3.43594 3.11066-5.59494 7.60621-5.59494 12.60581h3.92759c-.00112-3.8386 1.66172-7.29575 4.30562-9.68978z" fill="url(#f)"/></svg>
    </div>
  </div>
  <mat-card class="payment-form">
    <mat-card-header>
      <div mat-card-avatar class="payment-form-header-image"></div>
      <mat-card-subtitle>Мы не храним ваши платежные данные, а сразу передаем их по зашифрованному каналу платежной
        системе</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <div class="row">
        <div class="col">
          <div class="card-type">
            <div class="card-type-label">
              Введите данные карты
            </div>
            <div class="card-type-icons">
              <img
                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAOCAYAAABZ/o57AAAAAXNSR0IArs4c6QAABLJJREFUSA2tVk1sVFUUPue+9+ZHZ94wibWmBTL2tSCVxBjF8LOQhUsWmmriQsPCNGFDGlphYYiZBGOt2EwLJhhjUNxIohsShVaDRhMrMUGjFVDT6Q8goRqhPzOlPzPv+p335s5MBVZ6knfP7z333PNzZziWyWVIl5jqwLapWMjv/7NOFJJN2Xti0USDkS9O/H4t3uw12vHIOpH5ZX+hONHzk9EHOJONJfxEi7KdDHHZ98m6WsjfvEiU9VfZCdPyRipO8ZSQt4rLf9P0/qLQAiqiVHvEiRyKOpGf8Y3LZ3FkOtU6cDw0qa1ufE1v1HIm5Yso5xxRE9ux6EFFakQ+y7LfNNap9b3plJfrS9npaSviXGBFnzFbZyym0ZSXHjZ2BrvewLGUis9EFE3J5yadA0YnWM2Nd52eG+t6YXbhZmNZ65Oa9LIotKbddF9fUugAkBkmftGwMDiGrCyjFJurMp9+CeiGbEI78WFiJYe5Vb0hWE8ZUrCb6d/KzHvqZaC31fOqylzLLljEb5HmeU2Ux0aVSNmPG72rUh3ElBYe+iWfV94RGsFXA4U8CDTppvZg/xbRAwo++Z3oiy0ln57ytT5Q9vXpUBWubNs99bzQrPkJJKIan11vMJvv+sFtHfRZ6yaYTjHZcthXwUalOqu22j8pPRz3+tch0qCnAhvSQaCKeIexRYWuzI/NfijZr8jOGp1gmRFU7xmWKdH6MvxZOLtZ/Ca8dHshH16+GnFlM5KiUTKOg3CZ9SMiT7b0bwB6smJDpZI/KLRDqpZNRDRXXLkY2vCYsUXGN7leejTRMtBhZPU4YnMXgkRwOJnpAyD0fghMulr+fweK0dVDYobNaa11MM2K7Vo2SX+zMNXzo9jourLjUhNmSvVSuRdxXxIbAfjaYCn+xPUGv403960NpVgx5UjkS8LjLH+5XDrua/rO6BXX+vS2QP2FW5+jFEioHMDb4s1H1uKmu81m9FeQzUBfN0jYEw4SFHNXu2/MjeUfxdmH4GjJ7EXA251Y9EuivVGRJTmKBLAZ2C8WJ17GkOlqRpGIu2e0cP2Vv2B8XhyhbLYT06/j1uHbqWmqMD5ySnQCkNdKXxmkUCPr0aW5/L5XV3SpDZcIqiRSXL7NbfV2omdt9PJekQnA12Vk/HmQbYFAFk0b5ZkT8raMihBQ55iqTxKm922ij8uhSTCRm0I6uNRoQGdya4xM8K18zxUEcbBehjIX0LfPIur1VTlzJzL+kWL1vpGBZ+3Etgq/auqNASo/BJtVznG94nyZ3jM2bkvaQxrihsfPTFB611bD7A1iOPyzWvN19O4DaJ0OBBsAfN+Yz1/63vXac0EejYO7Yyn/mTsGOp8fOZfydszgxtXsoNdO0OS+GeMPh2+uHU4rhfyF36BDEvTDWO9FsR4DIyIpawBogUXt+08nH3xIHnjzzlK5VN5ZwnNYMaOIxbugPyo8kwr69I6BSnk1bUcv8i5kEjFiLdMRwQbQMw1Q/BrwWo8TvbtCjYcRIA1hh7yjjUHp5I+E5j+QyVPLZZ1bnOyexM/lCfTfbOhLny9Mdn8d0pU1k/s0avFrFf1GYHPXVWb/E5O1E97h+4meC97I/+r0H2FHmUxT7+LTAAAAAElFTkSuQmCC"
                class="card-type-icon" [ngClass]="{'card-type-icon--disabled': !isVisa()}"
                />
              <img
                src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAUCAYAAAB1aeb6AAAAAXNSR0IArs4c6QAABABJREFUSA2VlW1ollUYx3/3NqduavlSyy3TTNecLy1RyxXMhBl9iJFazrcIIjKhzH2Q8MMMkdbLB0n60AsUZUQg+EItNPBjTjBMRytCnVubiZuxTXHNbe7ud/bwPDhm7dkFF+c+53r7n/+5zrkj/kNiiDQtUB9QJ6pX1HoX/3a8o8TfkEcmxWQ4xlxngGYqaTDGdMMlFBgiek1z4S11gzp9iBHTQZ36gYFHkrb4AM+bfrtwH3dtaM6YS658TS/vRRvpSMaEcYijhde49rk6KRhHkGM8y5ts5mOzlI3gG/beIfQXo0q+T/qmilt4q4sfqam1pNMdx4h2auhjFvlSnZ7Elo95JVo3uMFEIQuvNPpHNd00A2SbJkP/h43aqWao6Ugs4JinBPBTZOEsY35VQ5r0pJAT7KA05TzGr5zUbOSPmLP8xuJQfJ3e344ckfIY4C6xR7exdI+2d1L29D5iKsKuVzNvHpSX22r22qZN0NQER48OT5KbC1MnNLLjypxhxpuu3LdMfRrajnshTwxzSS3Mtr0ufvJc2Hkj1dUPsmuXMFbDwYOwd69n6CGGYnv2wNq1sHAhXLjgffBCrF8PVVVw3CKtrbDMoouuwsYPoXm/hetgymMeqGdx3h7Or4DO03D3Yui/7gF7k2vzGzLfhnfZujWLMR5cXp4BklFbK6RGWLUKiopgyxaoqYEVK6ChwQazw+osUF0NN91yZaVAvZ03vtOurftPW1fgecZPmAuzX/WF6JU1AY0vEECX7H6VFXq0h/nz4bTIZs6Evj4o0GHbtsRYXw8nTybm4XgOHYI5sh6YCDsvLobduwUt+O4m0yn3vwBzjQ+FMsfBJdnMMXfjp9BxCq79Hrx6MsjObmW6D9m5c3D4cCJxfr40dYp0KsyYAe3tMHlyYl5WlqC/pycREwCdOQN/GFuyD0rd/RSPobcDxk6zuNR3au9Si2Vq7na4bq3MiX9FcU7OPtG/TlubtN2AwsIEtWFHYR4kgDsl4gCqvz8m93LEo6Xu6KKF7oVfbK43bpl4aWKnnWd9I43vNz6SkX9aZLRL3yWO1zwq+6Pvxvuh4TwI5HUUstkmncXsVIQEIcOjkPDUlAw+pQKQMypGEXyLRd7z5EO8xkjZT1vizAOXx5e8lCwun8ir73S6spyfWc4SigywHUYhzXSPf+J8V8HVJHafLEpM8IPqAacpj0j/TukPdyYdiWmhn2eiDTQE91SYKGxH7JhBAMH2f9Kp8bXoLA85VoncLhpRjlh4abJw8E7t/PZQWXjSue8s5ap3DVt2sEAA6F3iMwNt34TEXzLVH8vLzioEssCskxx7nbc4HlP3+x8fXVOH1AIJN2Js+E5X4i8YF+JG8v8X5UMlkwCffwoAAAAASUVORK5CYII="
                class="card-type-icon"
                [ngClass]="{'card-type-icon--disabled': !isMasterCard()}" />
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field class="full-width">
            <input matInput id="cc-number" type="tel" autocomplete="cc-number" placeholder="Номер карты"
              formControlName="cardNumber">
            <mat-error *ngIf="paymentForm.controls['cardNumber'].hasError('required')">
              Номер карты не может быть пустым
            </mat-error>
            <mat-error *ngIf="paymentForm.controls['cardNumber'].hasError('numbersOnly')">
              Номер карты может содержать только цифры
            </mat-error>
            <mat-error *ngIf="paymentForm.controls['cardNumber'].hasError('checksum')">
              Указанный номер карты недействителен
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field class="full-width">
            <input matInput placeholder="Имя держателя (как на карте)" #cardHolder formControlName="cardHolder">
            <mat-error *ngIf="paymentForm.controls['cardHolder'].hasError('required')">
              Имя держателя не может быть пустым
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field>
            <mat-label>Месяц</mat-label>
            <mat-select formControlName="expirationMonth" id="cc-expiration-month">
              <mat-option *ngFor="let month of months" [value]="month">
                {{month}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="paymentForm.controls['expirationYear'].hasError('required')">
              Месяц не может быть пустым
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <span>/</span>
        </div>
        <div class="col">
          <mat-form-field>
            <mat-label>Год</mat-label>
            <mat-select formControlName="expirationYear" id="cc-expiration-year">
              <mat-option *ngFor="let year of years" [value]="year">
                {{year}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="paymentForm.controls['expirationYear'].hasError('required')">
              Год не может быть пустым
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field>
            <input matInput placeholder="CCV" type="password" #ccv formControlName="ccv">
            <mat-error *ngIf="paymentForm.controls['ccv'].hasError('required')">
              CCV не может быть пустым
            </mat-error>
          </mat-form-field>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button mat-raised-button color="primary" [disabled]="!paymentForm.valid" type="submit" class="full-width">Подтвердить</button>
    </mat-card-actions>
    <mat-card-footer class="payment-form-footer">Нажимая кнопку «Подтвердить», я соглашаюсь с <a href="https://securepayments.sberbank.ru/payment/merchants/sbersafe_sberid_promo/offer.pdf" target="_blank">условиями</a> ПАО Сбербанк</mat-card-footer>
  </mat-card>
</form>
<div class="payment-success" *ngIf="isSubmited">
  Заказ подтвержден.
</div>